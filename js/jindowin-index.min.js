var jindowin={docHeight:document.documentElement.clientHeight,docWidth:document.documentElement.clientWidth,fixedTop:function(){$(".search-box").posfixed({distance:0,pos:"top",type:"while",hide:false})},initSelectTimes:function(){var a=selectTime.times();var c=[];for(var b=0;b<a.length;b++){if(b===9){c.push("<option value='"+b+"' selected='selected'>"+a[b]+"</option>")}else{c.push("<option value='"+b+"'>"+a[b]+"</option>")}}$("#startTime").html(c.join(""));$("#endTime").html(c.join(""));$("#endTime").dropdown({autoinit:".select"});$("#startTime").dropdown();$("#receiveTimes").dropdown()},receiveTimeChange:function(a){if($(a).is(":checked")){$("#receiveBox").removeClass("hide")}else{$("#receiveBox").addClass("hide")}},summaryChange:function(a){if($(a).is(":checked")){$("#summaryBox").removeClass("hide");if($("#receiveTimes").val()==="0"){$("#userDefineBox").removeClass("hide")}}else{$("#summaryBox").addClass("hide");$("#userDefineBox").addClass("hide")}},receiveTimesSelectChange:function(){if($("#receiveTimes").val()==="0"){$("#userDefineBox").removeClass("hide");$("#userDefineTimes").focus()}else{$("#userDefineBox").addClass("hide")}},settings:function(){var a=$("#startTime").val();var b=$("#endTime").val();if(a>b){$("#settingBoxTips").removeClass("hide").find("p").html("开始时间不能大于结束时间").slideDown();return}$("#complete-dialog").modal("hide")},getMyNewsCount:function(){var a=$("#myNewsHead").find("tr").length;if(a==0){$("#myNewsCount").html("我的快讯");$(".show-all-news").hide()}else{$("#myNewsCount").html("我的快讯("+a+")")}},toggleIndexInfo:function(a){if(a){$(".mynews").removeClass("hide");$(".recommendnews").removeClass("hide");$(".settingnews").addClass("hide");$(".newsinfo").addClass("hide")}else{$(".mynews").addClass("hide");$(".recommendnews").addClass("hide");$(".settingnews").removeClass("hide");$(".newsinfo").removeClass("hide")}}};$.fn.extend({animateCss:function(b,c,d){var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";$(this).addClass("animated "+b).one(a,function(){$(this).removeClass("animated "+b);$("#"+c).remove();d()})}});$.material.init();jindowin.fixedTop();jindowin.initSelectTimes();jindowin.getMyNewsCount();$("#showMyAll").bind("click",function(){});$("#rec-gp-all").bind("click",function(){});$("#rec-hy-all").bind("click",function(){});$("#rec-gn-all").bind("click",function(){});$("#settingOk").bind("click",function(){jindowin.settings()});$("#receiveTimes").change(function(){jindowin.receiveTimesSelectChange()});$("#cbReceiveTime").change(function(){jindowin.receiveTimeChange($(this))});$("#cbSummary").change(function(){jindowin.summaryChange($(this))});$("#search-input").bind("input propertychange",function(){if($(this).val()===""){jindowin.toggleIndexInfo(true)}});$("#wechat").bind("click",function(){var a=jindowin.docHeight/2-221;$("#wechat-dialog").css("top",a+"px");$("#wechat-dialog").modal()});$("#myNewsHead>tbody>tr>td>.fa-times").each(function(){$(this).click(function(){var a=$(this).parents().parents().attr("id");$("#"+a).fadeOut("normal",function(){$(this).remove();jindowin.getMyNewsCount()})})});$("#myNewsHead>tbody>tr>td>.fa-pencil").each(function(){$(this).click(function(){var a=$(this).parents().parents().attr("id");$("#complete-dialog").modal()})});$("#allrecommend table tbody tr td .fa-plus").each(function(){$(this).click(function(){if($(this).hasClass("fa-check")){$(this).removeClass("fa-check").addClass("fa-plus")}else{$(this).removeClass("fa-plus").addClass("fa-check")}})});$("#search-input").typeahead({minLength:1,maxItem:20,order:"asc",hint:true,group:[true,"{{group}}"],maxItemPerGroup:5,backdrop:false,dynamic:true,emptyTemplate:'未找到 "{{query}}" 的相关信息',source:{"股票":{url:["ajax/ajax_search.php?message={{query}}","stock"]},"行业":{url:["ajax/ajax_search.php?message={{query}}","hy"]},"概念":{url:["ajax/ajax_search.php?message={{query}}","gn"]},"热点事件":{url:["ajax/ajax_search.php?message={{query}}","rd"]}},callback:{onClickAfter:function(e,b,d,c){if(d.display!==""){jindowin.toggleIndexInfo(false);console.log('你选择了"'+d.group+'"下的"'+d.display+'"')}},onSubmit:function(e,b,d,c){if(d.display!==""){jindowin.toggleIndexInfo(false);console.log('你选择了"'+d.group+'"下的"'+d.display+'"')}}},debug:true});